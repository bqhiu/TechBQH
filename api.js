(function (_0x383748, _0x17d119) {
  const _0xb1108b = _0x383748();
  while (true) {
    try {
      const _0x34a514 = parseInt(_0x39df(306)) / 1 + -parseInt(_0x39df(319)) / 2 * (parseInt(_0x39df(413)) / 3) + parseInt(_0x39df(342)) / 4 * (-parseInt(_0x39df(363)) / 5) + parseInt(_0x39df(308)) / 6 + -parseInt(_0x39df(322)) / 7 * (parseInt(_0x39df(399)) / 8) + parseInt(_0x39df(299)) / 9 + -parseInt(_0x39df(433)) / 10 * (-parseInt(_0x39df(330)) / 11);
      if (_0x34a514 === _0x17d119) {
        break;
      } else {
        _0xb1108b.push(_0xb1108b.shift());
      }
    } catch (_0x57d6e4) {
      _0xb1108b.push(_0xb1108b.shift());
    }
  }
})(_0x27be, 508444);
(function (_0x2b1b4e, _0xab6ffe) {
  const _0x5d022c = _0x2b1b4e();
  while (true) {
    try {
      const _0x2b0b9c = -parseInt(_0x111c(438)) / 1 + -parseInt(_0x111c(422)) / 2 * (-parseInt(_0x111c(407)) / 3) + -parseInt(_0x111c(489)) / 4 + parseInt(_0x111c(372)) / 5 * (parseInt(_0x111c(473)) / 6) + -parseInt(_0x111c(475)) / 7 * (-parseInt(_0x111c(355)) / 8) + parseInt(_0x111c(448)) / 9 * (-parseInt(_0x111c(447)) / 10) + parseInt(_0x111c(402)) / 11 * (parseInt(_0x111c(339)) / 12);
      if (_0x2b0b9c === _0xab6ffe) {
        break;
      } else {
        _0x5d022c.push(_0x5d022c.shift());
      }
    } catch (_0x49e172) {
      _0x5d022c[_0x39df(397)](_0x5d022c[_0x39df(345)]());
    }
  }
})(_0x4a08, 631404);
function _0x4a08() {
  const _0x3fbd2b = ["Nh\u1EADp API-K", _0x39df(408), _0x39df(390), _0x39df(384), _0x39df(377), _0x39df(326), _0x39df(320), _0x39df(318), _0x39df(356), "drncH", _0x39df(321), _0x39df(313), "an error 4", _0x39df(426), "uzfEn", _0x39df(395), "qDfcm", _0x39df(312), "btn-api-ke", _0x39df(427), _0x39df(369), _0x39df(381), _0x39df(431), "d77b03242b", _0x39df(434), "830-cab4-4", "map", _0x39df(389), _0x39df(365), "innerText", _0x39df(382), _0x39df(316), _0x39df(352), _0x39df(331), _0x39df(409), "EztSC", _0x39df(404), _0x39df(304), _0x39df(406), _0x39df(317), _0x39df(387), _0x39df(307), _0x39df(417), _0x39df(402), " than 200 ", _0x39df(378), "something ", _0x39df(396), _0x39df(305), _0x39df(364), _0x39df(386), _0x39df(405), _0x39df(315), _0x39df(347), _0x39df(398), _0x39df(375), _0x39df(380), _0x39df(403), _0x39df(362), _0x39df(357), _0x39df(346), "nthGz", "onreadysta", _0x39df(354), "QdfJj", _0x39df(401), _0x39df(300), _0x39df(350), _0x39df(394), "desc", "style", _0x39df(327), _0x39df(334), _0x39df(351), _0x39df(393), _0x39df(338), _0x39df(349), _0x39df(314), _0x39df(309), "mZsmI", _0x39df(383), _0x39df(411), _0x39df(303), "dUsfj", _0x39df(301), "data", _0x39df(400), _0x39df(372), _0x39df(391), "techange", _0x39df(340), _0x39df(412), "stringify", "Truy v\u1EA5n s", _0x39df(353), _0x39df(341), "HRnCE", _0x39df(430), _0x39df(414), _0x39df(359), _0x39df(371), _0x39df(368), "getItem", _0x39df(374), _0x39df(358), _0x39df(348), _0x39df(416), "d22-b8d6-e", _0x39df(337), "error", _0x39df(339), _0x39df(376), _0x39df(428), _0x39df(302), _0x39df(335), "cNskb", _0x39df(410), _0x39df(379), _0x39df(311), _0x39df(336), "zDzrq", _0x39df(421), _0x39df(422), "NxLdi", "goDcr", "setRequest", _0x39df(429), _0x39df(419), "stener", "<option va", _0x39df(328), "demo-f5e14", _0x39df(407), _0x39df(361), _0x39df(432), _0x39df(325), _0x39df(425), _0x39df(355), "Header", _0x39df(332), _0x39df(420), "irzFL", _0x39df(385), _0x39df(360), "slice", "i.vietqr.i", _0x39df(333), _0x39df(418), "exist-key", _0x39df(423), _0x39df(373), _0x39df(367), _0x39df(366), _0x39df(329), _0x39df(424), _0x39df(344), _0x39df(323), _0x39df(324), _0x39df(370), "hEFle", "ent-Id ", "nVkgd", _0x39df(388), _0x39df(392), _0x39df(310), _0x39df(415), _0x39df(343)];
  _0x4a08 = function () {
    return _0x3fbd2b;
  };
  return _0x4a08();
}
const defaultApiKey = _0x111c(432) + _0x111c(493) + _0x111c(405) + _0x111c(385) + '6a';
const defaultClientId = _0x111c(373) + _0x111c(471) + _0x111c(408) + _0x111c(491) + 'aa';
loadXMLDoc();
function loadXMLDoc() {
  const _0x5d3e5a = {
    'eiDRs': function (_0x450097, _0x2d2af1) {
      return _0x450097 == _0x2d2af1;
    },
    'irzFL': function (_0x24ac72, _0x3abe44) {
      return _0x24ac72 == _0x3abe44;
    },
    'EztSC': _0x111c(340),
    'TKjrd': function (_0x2114ce, _0x40d07c) {
      return _0x2114ce(_0x40d07c);
    },
    'iyvZM': _0x111c(466) + _0x111c(480) + '00',
    'WOVTM': function (_0x2f1e71, _0x27934c) {
      return _0x2f1e71(_0x27934c);
    },
    'RZNnK': _0x111c(347) + _0x111c(455) + _0x111c(345) + _0x111c(381) + 'ed',
    'NFzaH': _0x111c(452),
    'pnUXE': _0x111c(374) + _0x111c(446) + _0x111c(359)
  };
  var _0x30c4b3 = new XMLHttpRequest();
  _0x30c4b3[_0x111c(363) + _0x111c(390)] = function () {
    if (_0x5d3e5a[_0x111c(341)](_0x30c4b3[_0x111c(396)], XMLHttpRequest[_0x111c(338)])) {
      if (_0x5d3e5a[_0x111c(442)](_0x30c4b3[_0x111c(436)], 200)) {
        console[_0x111c(392)](JSON[_0x111c(474)](_0x30c4b3[_0x111c(343) + 'xt']));
        let _0x4d6b10 = JSON[_0x111c(474)](_0x30c4b3[_0x111c(343) + 'xt']);
        document[_0x111c(356) + _0x111c(443)](_0x5d3e5a[_0x111c(336)])[_0x111c(453)] = _0x4d6b10[_0x111c(386)][_0x111c(494)](_0x15505e => {
          return _0x111c(430) + _0x111c(420) + _0x15505e[_0x111c(411)] + (_0x111c(334) + _0x111c(367)) + _0x15505e[_0x111c(490)] + '>(' + _0x15505e[_0x111c(411)] + ") " + _0x15505e[_0x111c(337)] + _0x111c(435);
        })[_0x111c(387)]('');
      } else if (_0x5d3e5a[_0x111c(442)](_0x30c4b3[_0x111c(436)], 400)) {
        _0x5d3e5a[_0x111c(427)](alert, _0x5d3e5a[_0x111c(456)]);
      } else {
        _0x5d3e5a[_0x111c(481)](alert, _0x5d3e5a[_0x111c(406)]);
      }
    }
  };
  _0x30c4b3[_0x111c(404)](_0x5d3e5a[_0x111c(459)], _0x5d3e5a[_0x111c(409)], true);
  _0x30c4b3[_0x111c(389)]();
}
function _0x27be() {
  const _0x4bdfce = ["</option>", "27050raleRf", "tVTai", "1185525hOskgF", "bnail=", "26f937d537", "yGKpR", " v\xE0 Client", "DONE", "addEventLi", "110751DflcJL", "Fwxov", "5331984xlSeKt", "-id", "value", "VmyUR", "accountNum", "UNDil", "dwRGA", "loading", "zYdgj", "banks", "7hOgVxN", "4DcNKPP", "parse", "x-api-key", "345149kHUbWo", "zZdSk", "JHirO", "status", "3252990XcRNBN", "5KLMjBf", "rgdph", "key-data", "4037LdYPlg", " data-thum", "gParx", "748390JxHqfx", "demo-dd58b", "-key ", "lue=", "pnUXE", "-Id ", "bin", "x-client-i", "readyState", "140fvuzEX", "container-", "iyvZM", "shift", "apiKey", "WHvXp", "RZNnK", "t-Id", "gUrxW", "https://ap", "EQYOh", "focusout", "SJtUr", "652445MhOxwg", "block", "vpGuz", "d3a-93c7-9", "\u1EED d\u1EE5ng API", "qIvPR", "IUnZn", "o/v2/banks", "123815pbOgwH", "setItem", "length", "innerHTML", "GET", "3358454DctrZl", "WBorB", "NFzaH", "\u1EED d\u1EE5ng Cli", "none", "display", "open", "getElement", "pgYgx", "ckkyW", "applicatio", "tgzXp", "zPayU", "4489092yaZqAC", "rhjCk", "was return", "c3f-7544-4", "ById", "JnYIC", "eiDRs", "plbpS", "pRayr", "BQKRQ", "send", "ber", "click", "mqDWQ", "btn-client", "Nh\u1EADp Clien", "push", "3097712qcKfpb", "32tsRHIV", "join", "lgWoz", "Content-Ty", " - ", "short_name", "code", "60WZilXL", "YzLqh", "clientId", "POST", "OicWR", "AqQDA", "log", "827247OxWuFd", "ENccN", "There was ", "93LHmOIZ", "responseTe", "18NhVMHO", "***", "target", "6442ZpSanB", "o/v2/looku", "IzVvD", "else other", "accountNam", "WOVTM", "IozSn", "flex", "TKjrd", "n/json", "logo"];
  _0x27be = function () {
    return _0x4bdfce;
  };
  return _0x27be();
}
function _0x39df(_0x1cd5c1, _0x293804) {
  const _0x15d62b = _0x27be();
  _0x39df = function (_0xde3bc6, _0x165c40) {
    _0xde3bc6 = _0xde3bc6 - 299;
    let _0xc3cc4 = _0x15d62b[_0xde3bc6];
    return _0xc3cc4;
  };
  return _0x39df(_0x1cd5c1, _0x293804);
}
function findAccountName(_0x4a8c38, _0x2915d2) {
  const _0x4d8acb = {
    'HRnCE': function (_0xbc36d0, _0x16fbc9) {
      return _0xbc36d0 == _0x16fbc9;
    },
    'rhjCk': function (_0x2887ce, _0x17daab) {
      return _0x2887ce == _0x17daab;
    },
    'UNDil': _0x111c(467) + _0x111c(353),
    'cNskb': _0x111c(388),
    'qDfcm': _0x111c(410),
    'ENccN': _0x111c(437) + 'e',
    'dwRGA': _0x111c(476),
    'nthGz': function (_0x1b3112, _0x530fce) {
      return _0x1b3112(_0x530fce);
    },
    'qIvPR': _0x111c(466) + _0x111c(480) + '00',
    'AqQDA': function (_0x256eeb, _0x2d6b20) {
      return _0x256eeb(_0x2d6b20);
    },
    'rgdph': _0x111c(347) + _0x111c(455) + _0x111c(345) + _0x111c(381) + 'ed',
    'gUrxW': _0x111c(413),
    'JHirO': _0x111c(335),
    'zDzrq': _0x111c(374) + _0x111c(446) + _0x111c(423) + 'p',
    'Fwxov': _0x111c(344) + 'pe',
    'EQYOh': _0x111c(346) + _0x111c(398),
    'dUsfj': function (_0x4590f3) {
      return _0x4590f3();
    },
    'mZsmI': _0x111c(478),
    'nVkgd': _0x111c(391) + 'd'
  };
  return;
  document[_0x111c(356) + _0x111c(443)](_0x4d8acb[_0x111c(479)])[_0x111c(371)][_0x111c(451)] = _0x4d8acb[_0x111c(368)];
  var _0x1437f9 = new XMLHttpRequest();
  let _0x359f47 = {
        accountNumber: accountNumber,
        bin: bankId
    }
    xmlhttp.onreadystatechange = function () {
        if (xmlhttp.readyState == XMLHttpRequest.DONE) { // XMLHttpRequest.DONE == 4
            if (xmlhttp.status == 200) {
                console.log(JSON.parse(xmlhttp.responseText))
                let data = JSON.parse(xmlhttp.responseText)
                if (data.code == "00") {
                    document.getElementById("container-loading").style.display = "none";
                    document.getElementById("error").style.display = "none";
                    document.getElementById("accountName").value = data.data.accountName;
                } else {
                    document.getElementById("container-loading").style.display = "none";
                    document.getElementById("error").innerText = `${data.code} - ${data.desc}`;
                    document.getElementById("error").style.display = "block";
                    document.getElementById("accountName").value = '';
                }
            } else if (xmlhttp.status == 400) {
                alert('There was an error 400');
            } else {
                alert('something else other than 200 was returned');
            }
        }
    };

    xmlhttp.open("POST", "https://api.vietqr.io/v2/lookup", true);
    xmlhttp.setRequestHeader("Content-Type", "application/json");

    let identifyData = getCurrentLocalData()
    console.log(identifyData);
    xmlhttp.setRequestHeader("x-api-key", identifyData.apiKey);
    xmlhttp.setRequestHeader("x-client-id", identifyData.clientId);
    xmlhttp.send(JSON.stringify(params));
}


function init() {
    checkExistKey()
    let inputBankId = document.getElementById('banks');

    let inputAccountNumber = document.getElementById('accountNumber');
    inputAccountNumber.addEventListener('focusout', async function (e) {
        let value = e.target.value
        if (value.length > 0) {
            console.log(value, inputBankId.value);
            // await setTimeout(() => {
            //     document.getElementById("container-loading").style.display = "block"
            // }, 1500)

            findAccountName(value, inputBankId.value)
        }
    })
    document.getElementById('btn-api-key').addEventListener('click', () => {
        let apiKey = prompt('Nháº­p API-Key')
        if (apiKey) {
            saveData(apiKey)
            checkExistKey()
        }
    })
    document.getElementById('btn-client-id').addEventListener('click', () => {
        let clientId = prompt('Nháº­p Client-Id')
        if (clientId) {
            saveData(null, clientId)
            checkExistKey()
        }
    })
}
function saveData(apiKey = null, clientId = null) {
    let oldAPIKey = ''
    let oldClientId = ''
    let currentData = ''
    try {
        currentData = JSON.parse(localStorage.getItem('key-data'))
        handleData(currentData, oldAPIKey, oldClientId)
    } catch (error) {
        handleData(null, oldAPIKey, oldClientId)
    }
    function handleData(currentData = null, oldAPIKey, oldClientId) {
        console.log({ currentData, apiKey, clientId });
        if (currentData) {
            oldAPIKey = currentData.apiKey
            oldClientId = currentData.clientId
        }
        localStorage.setItem('key-data', JSON.stringify({
            apiKey: apiKey || oldAPIKey,
            clientId: clientId || oldClientId
        }))
    }
}
function getCurrentLocalData() {
    let currentData = ''
    try {
        currentData = JSON.parse(localStorage.getItem('key-data'))
        console.log(currentData);
        return handleData(currentData)
    } catch (error) {
        return handleData()
    }
    function handleData(data = null) {
        console.log(data);
        if (data) {
            return {
                apiKey: data.apiKey || defaultApiKey,
                clientId: data.clientId || defaultClientId
            }
        }
        return {
            apiKey: defaultApiKey,
            clientId: defaultClientId
        }
    }
}
function checkExistKey() {
    let data = getCurrentLocalData()
    if (data.apiKey == defaultApiKey && data.clientId == defaultClientId) {
        document.getElementById("exist-key").innerText = ''
    }
    else {
        if (data.apiKey != defaultApiKey && data.clientId == defaultClientId) {
            document.getElementById("exist-key").innerText = `Truy váº¥n sá»­ dá»¥ng API-key ${cutData(data.apiKey)}`
        } else if (data.apiKey == defaultApiKey && data.clientId != defaultClientId) {
            document.getElementById("exist-key").innerText = `Truy váº¥n sá»­ dá»¥ng Client-Id ${cutData(data.clientId)}`
        } else {
            document.getElementById("exist-key").innerText = `Truy váº¥n sá»­ dá»¥ng API-key ${cutData(data.apiKey)} vĂ  Client-Id ${cutData(data.clientId)}`
        }
    }
}
function cutData(data) {
    if (data.length < 5) {
        return data
    } else {
        let lastData = data.slice(data.length - 5, data.length)
        return `***${lastData}`
    }

}
